"use strict";(self.webpackChunkdelivery_app_test_task=self.webpackChunkdelivery_app_test_task||[]).push([[254],{254:function(n,e,r){r.r(e),r.d(e,{default:function(){return j}});var t,i,o,a=r(942),c=r(413),d=r(439),p=r(218),s=r(168),l=r(444),u=l.ZP.div(t||(t=(0,s.Z)(["\n  display: flex;\n  align-items: baseline;\n  margin: 0 auto;\n  gap: 8px;\n"]))),x=l.ZP.img(i||(i=(0,s.Z)(["\n  margin-bottom: 10px;\n"]))),f=l.ZP.p(o||(o=(0,s.Z)(["\n  margin: 0 0 10px;\n"]))),g=r(184);function h(n){var e=n.id,r=n.image,t=n.product,i=n.price,o=n.quantity,a=n.increaseProduct,c=n.decreaseProduct,d=o*i;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x,{src:r,alt:t,width:"200",height:"132"}),(0,g.jsx)(f,{children:t}),(0,g.jsxs)(f,{children:[i," \u20b4"]}),(0,g.jsxs)(u,{children:[(0,g.jsx)("button",{type:"button",onClick:function(){c({id:e,image:r,product:t,price:i,quantity:1})},children:"-"}),(0,g.jsxs)(f,{children:[o," pcs"]}),(0,g.jsx)("button",{type:"button",onClick:function(){a({id:e,image:r,product:t,price:i,quantity:1})},children:"+"})]}),(0,g.jsxs)(f,{children:["Total: ",d," \u20b4"]})]})}var m=r(791),b=r(410),Z=r(65),y={name:"",email:"",phone:"",address:""},P=JSON.parse(localStorage.getItem("orders"))||[];function j(n){var e=n.total,r=n.addedProducts,t=n.increaseProduct,i=n.decreaseProduct,o=n.removeAddedProducts,s=(0,m.useState)(y),l=(0,d.Z)(s,2),u=l[0],x=l[1],f=function(n){var e=n.currentTarget,r=e.value.toLowerCase().trim();x((0,c.Z)((0,c.Z)({},u),{},(0,a.Z)({},e.name,r)))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(Z.Y9,{children:[(0,g.jsxs)(Z.rH,{children:[(0,g.jsx)(Z.OA,{children:"Add your delivery information:"}),(0,g.jsxs)(Z.l0,{children:[(0,g.jsx)(Z.II,{type:"text",name:"name",placeholder:"Name",value:u.name,onChange:f}),(0,g.jsx)(Z.II,{type:"email",name:"email",placeholder:"Email",value:u.email,onChange:f}),(0,g.jsx)(Z.II,{type:"tel",name:"phone",placeholder:"Phone",value:u.phone,onChange:f}),(0,g.jsx)(Z.II,{type:"text",name:"address",placeholder:"Address",value:u.address,onChange:f})]})]}),(0,g.jsxs)(Z.gM,{children:[r&&(0,g.jsx)(Z.aV,{children:r&&r.map((function(n){return(0,g.jsx)(Z.ck,{children:(0,g.jsx)(h,{id:n.id,image:n.image,product:n.product,price:n.price,quantity:n.quantity,increaseProduct:t,decreaseProduct:i})},n.id)}))}),(0,g.jsxs)(Z.J5,{children:[(0,g.jsxs)(Z.xn,{children:["Total order: ",e," \u20b4"]}),(0,g.jsx)(Z.zx,{type:"submit",onClick:function(n){if(n.preventDefault(),""===u.name||""===u.email||""===u.phone||""===u.address)p.ZP.error("Please, enter all delivery information");else if(0!==r.length){var t={user:u,order:r,total:e};(0,b.a_)(t).then((function(n){return n.ok?(p.ZP.success("Your order has been sent"),P.push(t),localStorage.setItem("orders",JSON.stringify(P)),x(y),void o()):Promise.reject("Error")})).catch((function(n){p.ZP.error("Something went wrong. Please try again. ".concat(n))}))}else p.ZP.error("Cart is empty :(")},children:"Submit"})]})]})]})})}},65:function(n,e,r){r.d(e,{Fg:function(){return j},II:function(){return C},J5:function(){return _},OA:function(){return I},Y9:function(){return w},aV:function(){return y},ck:function(){return v},gM:function(){return S},iB:function(){return A},l0:function(){return k},rH:function(){return z},xn:function(){return O},xv:function(){return P},zx:function(){return q}});var t,i,o,a,c,d,p,s,l,u,x,f,g,h,m=r(168),b=r(87),Z=r(444),y=Z.ZP.ul(t||(t=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  justify-content: center;\n  align-items: baseline;\n  margin: 0;\n  margin-bottom: 20px;\n"]))),P=Z.ZP.p(i||(i=(0,m.Z)(["\n  text-align: center;\n  font-size: 18px;\n  margin: 0 0 30px;\n"]))),j=(0,Z.ZP)(b.OL)(o||(o=(0,m.Z)(["\n  border: 1px solid #c3d1c0;\n  box-shadow: 3px 3px 8px -1px rgba(0, 0, 0, 0.5);\n  background-color: rgba(188, 237, 66, 0.5);\n  text-align: center;\n  font-size: 18px;\n  padding: 6px 20px;\n  border-radius: 4px;\n  &.active {\n    padding: 8px 16px;\n    color: white;\n    background-color: #581845;\n  }\n"]))),v=Z.ZP.li(a||(a=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border: 1px solid #c3d1c0;\n  box-shadow: 3px 3px 8px -1px rgba(0, 0, 0, 0.5);\n  background-color: rgba(188, 237, 66, 0.5);\n  width: 190px;\n  text-align: center;\n  font-size: 18px;\n"]))),w=Z.ZP.div(c||(c=(0,m.Z)(["\n  display: flex;\n  gap: 60px;\n"]))),k=Z.ZP.form(d||(d=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),C=Z.ZP.input(p||(p=(0,m.Z)(["\n  width: 200px;\n  padding: 2px 6px;\n  font-size: 18px;\n  &:not(:last-child) {\n    margin-bottom: 30px;\n  }\n"]))),I=Z.ZP.p(s||(s=(0,m.Z)(["\n  font-size: 18px;\n  font-weight: 500;\n  text-align: center;\n"]))),z=Z.ZP.div(l||(l=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid #581845;\n  box-shadow: 0px 2px 11px 2px rgba(88, 24, 69, 1);\n  height: 320px;\n  padding: 20px;\n  width: 240px;\n"]))),S=Z.ZP.div(u||(u=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border: 1px solid #581845;\n  box-shadow: 0px 2px 11px 2px rgba(88, 24, 69, 1);\n  min-width: 880px;\n  padding-top: 20px;\n"]))),_=Z.ZP.div(x||(x=(0,m.Z)(["\n  display: flex;\n  gap: 30px;\n  justify-content: flex-end;\n  align-items: baseline;\n  box-shadow: 0px -1px 11px 0px rgba(88, 24, 69, 1);\n  padding: 20px;\n  border-top: 1px solid #581845;\n  background-color: #daf7a6;\n"]))),O=Z.ZP.p(f||(f=(0,m.Z)(["\n  margin: 0;\n  font-size: 18px;\n  font-weight: bold;\n"]))),q=Z.ZP.button(g||(g=(0,m.Z)(["\n  color: white;\n  background-color: #581845;\n  font-weight: 500;\n  font-size: 18px;\n  padding: 4px 20px;\n  border-radius: 4px;\n  transition: transform 300ms;\n  &:hover {\n    transform: scale(1.1);\n  }\n"]))),A=Z.ZP.p(h||(h=(0,m.Z)(["\n  border: 1px solid #c3d1c0;\n  box-shadow: 3px 3px 8px -1px rgba(0, 0, 0, 0.5);\n  background-color: gray;\n  text-align: center;\n  font-size: 18px;\n  padding: 8px 16px;\n  border-radius: 4px;\n  margin: 0;\n  cursor: no-drop;\n"])))},410:function(n,e,r){r.d(e,{a_:function(){return a},nj:function(){return i},r7:function(){return o}});var t="https://643444ee1c5ed06c95935b39.mockapi.io",i=function(){return fetch("".concat(t,"/products"))},o=function(n){return fetch("".concat(t,"/products/").concat(n))},a=function(n){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};return fetch("".concat(t,"/users"),e)}}}]);
//# sourceMappingURL=254.f8b3a63b.chunk.js.map